(self.webpackChunkmy_blog_pages=self.webpackChunkmy_blog_pages||[]).push([[238],{7238:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t,n,o,r,s,a=document.getElementById("searchResults"),l=document.getElementById("searchInput"),c=null,i=!1,u={};function f(e){document.querySelectorAll(".focus").forEach((function(e){e.classList.remove("focus")})),e?(e.focus(),document.activeElement=c=e,e.parentElement.classList.add("focus")):document.activeElement.parentElement.classList.add("focus")}function m(){i=!1,a.innerHTML=l.value="",l.focus()}u.quest=function(t,n){var o=t.url,r=t.method,s=t.data,a=t.timeout||0,l=new XMLHttpRequest;if(a>0&&(l.timeout=a),l.onreadystatechange=function(){if(4==l.readyState)if(l.status>=200&&l.status<400){var e=l.responseText;try{e=JSON.parse(l.responseText)}catch(e){}n&&n(null,e)}else n&&n("status: "+l.status)}.bind(this),l.open(r,o,!0),"object"===e(s))try{s=JSON.stringify(s)}catch(e){}l.send(s),l.ontimeout=function(){n&&n("timeout"),console.log("%c连%c接%c超%c时","color:red","color:orange","color:purple","color:green")}},u.get=function(e,t){var n=e.url?e:{url:e};n.method="get",this.quest(n,t)},l.onkeyup=(o=function(e){var o;o=this.value.trim(),u.get("../api/search?q="+o,(function(e,o){var r;if(null===e&&0===o.code&&void 0!==o.data.results)if(0!==(r=o.data.results).length){var s="";for(var l in r)s+='<li class="post-entry"><header class="entry-header">'.concat(r[l].title,"&nbsp;»</header>")+'<a href="'.concat(r[l].link,'" aria-label="').concat(r[l].title,'"></a></li>');a.innerHTML=s,i=!0,t=a.firstChild,n=a.lastChild}else i=!1,a.innerHTML=""}))},r=500,function(){for(var e=this,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];clearTimeout(s),s=setTimeout((function(){o.apply(e,n)}),r)}),l.addEventListener("search",(function(e){this.value||m()})),document.onkeydown=function(e){var o=e.key,r=document.activeElement,s=document.getElementById("searchbox").contains(r);if(r===l)for(var u=document.getElementsByClassName("focus");u.length>0;)u[0].classList.remove("focus");else c&&(r=c);if("Escape"===o)m();else{if(!i||!s)return;"ArrowDown"===o?(e.preventDefault(),r==l?f(a.firstChild.lastChild):r.parentElement!=n&&f(r.parentElement.nextSibling.lastChild)):"ArrowUp"===o?(e.preventDefault(),r.parentElement==t?f(l):r!=l&&f(r.parentElement.previousSibling.lastChild)):"ArrowRight"===o&&r.click()}}}}]);